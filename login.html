<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de sesión</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body class="m-0 vh-100 row justify-content-center align-items-center" style="background-image: url('https://mobimg.b-cdn.net/v3/fetch/ab/ab6a4e1d70a49a2ae2d97c73545404c1.jpeg'); background-size:cover ; " >
    <div class="container w-75 shadow-lg border border-light rounded-lg bg-light" >
        <header class="display-3 text-center mt-5" style="font-family: 'roboto', sans-serif;  font-size: calc(1em + 3vw) ; " "> Iniciar Sesión</header>
        <form class="text-center my-4">
          <input aria-label="Ingresa aquí tu nombre de usuario" id="uss" type="usuario" class="form control form-control-lg w-75 mb-3 border border-warning"  placeholder="Usuario" autocomplete="off">
          <input aria-label="Ingresa aquí tu contraseña" id="pw" type="password" class="form control form-control-lg w-75 mb-4 border border-warning" placeholder="Contraseña" autocomplete="off">
          <label class="text-danger w-75" text="" id="error"></label>
          <button aria-label="Presiona este botón para iniciar sesión" type="button" class="btn btn-secondary rounded-lg w-25 text-center bg-warning border-warning text-dark mb-1 p-0" style="font-size: calc(0.5em + 0.8vw)" id="LogIn" onclick='onLoggin()' >Iniciar</button>
          <p class="text-dark mx-auto text-center mb-3">¿Aún no tienes cuenta? Registrate<a aria-label="Registrate aquí" href="https://catbenderson.github.io/Evenotes-FrontEnd/register.html" class="text-important"> aquí</a></p>
        </form> 
      </div>

      <script>
        function onLoggin(){
            
            const usuario = document.getElementById("uss");
            const password = document.getElementById('pw')
            axios({
                method:"POST",
                url: 'https://evenotes-backend-production.up.railway.app/login',
                data:{
                    "nombre": usuario.value,
                    "password": password.value
                }
            }).then((res)=>{
                console.log(res);
                if(res.data==true){
                  window.location.href = "https://catbenderson.github.io/Evenotes-FrontEnd/main.html";
                }else{
                  const x=document.getElementById("error")
                  x.innerHTML="Usuario o contraseña incorrectos"
                }
            }).catch(error=>{
                console.log(error);
                throw new Error(error);
            });
        }
 
    </script>

</body>
</html>